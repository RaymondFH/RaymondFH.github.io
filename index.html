<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="/twittergrep/favicon.png" />
	<title>cool guy site</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="raymond" />
	<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300"
		rel="stylesheet">
	<link rel="icon" type="image/x-icon" href="resources/coolguy.png">
	<link rel="stylesheet" type="text/css" media="screen" href="blog.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	
</head>

<body>
	<div class="container wrapper">
		<div class="header">
			<h1 class="site-title"><a href="">coolguy II</a></h1>
			<div class="site-description">
				<h3>Producer of Products in Multiple Mediums</h3>
			
				<nav class="nav social">
					<ul class="flat"><a href="https://github.com/RaymondFH/" title="Github"><i data-feather="github"></i></a><a
							href="https://x.com/coolguy_ii" title="Twitter"><i data-feather="twitter"></i></a></ul>
				</nav>
			</div>

			<nav class="nav">
				<ul class="flat">
					
					<li class="meta subscribe-beg">
						<a href="resume.html">resume</a> 
					</li>
					
					<li>
						<a href="easyWeb/index.html">css tester</a>
					</li>

					<li>
						<a href="flappyCool/flappy.html">gamers click here</a>
					</li>

					<li>
						
					</li>
					
				</ul>
				<br>
				<button class="toggle-button" id="toggle-button">
					<span class="new">Light</span>
					<span class="old">Dark</span>
				</button>
			</nav>
		</div>
		<div>

			<div>

				<div class="recent-posts section">
				</div>
				<div class="dot-plan section">
					<h3 class="section-header">
						recent posts
					</h3>
				<div class="meta subscribe-beg"> this section is for posting thoughts and updates without much care for organization or neatness. 
				</div>
					<div class="dotplanIsLoading" id="dotplanContainer">
						<iframe id="dotplanFrame"
							src="https://docs.google.com/document/d/e/2PACX-1vTeEvbIR4sQuuMYfQPtWDj6Nas_0fhwFy3Zw7IzMwuifP2X9uZSM8nCwccMzh6iG0UI1QgXgpBvzZd-/pub?embedded=true" max-width="100%" height="max">
						</iframe>
					</div>
				</div>

				<div class="recent-posts section">
				</div>
			</div>
		</div>
		<!-- content above here -->


		<script>
// Feather Icons
feather.replace();

// START INJECTION PRANK
function removeSecretClass() {
    const divs = document.querySelectorAll('.secret');
    divs.forEach(div => {
        div.classList.remove('secret');
    });
}

// START GDOCS UNEMBEDDING SCRIPT
function unembedGoogleDocs() {
    const iframes = document.getElementsByTagName("iframe");
    Array.from(iframes).forEach(iframe => {
        const url = iframe.getAttribute("src");
        if (url && url.startsWith("https://docs.google.com/document/d/")) {
            fetchAndReplaceIframe(iframe, url);
        }
    });
}

function fetchAndReplaceIframe(iframe, url) {
    const d = document.createElement('div');
    d.classList.add("embedded-doc");

    fetch(url)
        .then(response => response.text())
        .then(html => {
            d.innerHTML = html;
            processEmbeddedDoc(d);
            iframe.parentElement.replaceChild(d, iframe);
            removeDotplanLoadingClass();
            applyCurrentTheme(d);
        })
        .catch(error => console.error('Error fetching Google Doc:', error));
}

function processEmbeddedDoc(docElement) {
    docElement.querySelectorAll('script').forEach(script => script.remove());
    
    docElement.querySelectorAll('style').forEach(style => {
        let cssString = style.innerText;
        cssString = cssString.replace(/\}/g, '}.embedded-doc ');
        cssString = cssString.replace(/\line-height/g, 'foo');
        style.innerHTML = cssString;
    });

    docElement.querySelectorAll('*').forEach(element => {
        element.style.maxWidth = '100%';
        element.style.removeProperty('height');
        if (element.tagName.toLowerCase() !== 'li') {
            element.style.overflow = 'hidden';
        }
    });
}

function removeDotplanLoadingClass() {
    const element = document.getElementById("dotplanContainer");
    if (element) {
        element.classList.remove("dotplanIsLoading");
    }
}

function toggleDarkMode() {
    document.body.classList.toggle('light-mode');
    applyCurrentTheme(document.body);
}

function applyCurrentTheme(element) {
    const isLightMode = document.body.classList.contains('light-mode');
    const themeVars = isLightMode ? lightModeVars : darkModeVars;
    
    Object.entries(themeVars).forEach(([property, value]) => {
        element.style.setProperty(property, value);
    });

    if (element.classList.contains('embedded-doc')) {
        element.querySelectorAll('*').forEach(child => {
            applyCurrentTheme(child);
        });
    }
}

const darkModeVars = {
    '--body-bg': '#191F26',
    '--body-color': '#F8F8F2',
    '--link-color': '#69a6e0',
    '--site-title-color': '#EFDDD3',
    '--heading-color': '#CF9185',
    '--subtitle-color': '#9099b6'
};

const lightModeVars = {
    '--body-bg': '#F8F8F2',
    '--body-color': '#191F26',
    '--link-color': '#005B96',
    '--site-title-color': '#4C3B30',
    '--heading-color': '#5A2C2A',
    '--subtitle-color': '#626B8C'
};

// Event Listeners
document.addEventListener('DOMContentLoaded', () => {
    unembedGoogleDocs();
    document.querySelector('.toggle-button').addEventListener('click', toggleDarkMode);
});
		</script>
</body>

</html>
